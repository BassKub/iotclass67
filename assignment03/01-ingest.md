# MQTT
MQTT (Message Queuing Telemetry Transport) เป็นโปรโตคอลการส่งข้อความที่มีน้ำหนักเบา ซึ่งออกแบบมาสำหรับการสื่อสารที่มีประสิทธิภาพในสภาพแวดล้อมที่มีข้อจำกัด เช่น ระบบ IoT (Internet of Things) 

**ส่วนประกอบหลัก**

1.**Broker**
 - บทบาท: MQTT Broker เป็นส่วนกลางที่จัดการการกระจายข้อความระหว่างลูกข่าย
 - ฟังก์ชัน: Broker รับข้อความทั้งหมดที่ลูกข่ายเผยแพร่และกระจายให้กับลูกข่ายที่สมัครสมาชิกกับหัวข้อที่เกี่ยวข้อง

2.**Publisher**
 - บทบาท: Publisher คืออุปกรณ์หรือแอปพลิเคชันที่ส่ง (เผยแพร่) ข้อมูลไปยัง MQTT Broker
 - ฟังก์ชัน: Publisher เผยแพร่ข้อความในหัวข้อที่ลูกข่ายอื่นอาจสนใจ

3.**Subscriber**
 - บทบาท: Subscriber คืออุปกรณ์หรือแอปพลิเคชันที่รับ (สมัครสมาชิก) ข้อความจาก MQTT Broker
 - ฟังก์ชัน: Subscriber สมัครสมาชิกกับหัวข้อที่สนใจและได้รับการอัปเดตเมื่อมีการเผยแพร่ข้อความไปยังหัวข้อเหล่านั้น

4.**Topics**
 - บทบาท: Topics คือสตริงที่แสดงถึงหัวข้อของข้อความ
 - ฟังก์ชัน: ลูกข่ายใช้หัวข้อในการเผยแพร่และสมัครสมาชิกข้อความ หัวข้อสามารถมีหลายระดับและสามารถจัดระเบียบเพื่อสร้างความละเอียดที่แตกต่างกัน

# MQTT ใน IoT

1.**การเก็บข้อมูล**
 - อุปกรณ์ IoT: เซนเซอร์และอุปกรณ์ IoT อื่น ๆ เก็บข้อมูล (เช่น อุณหภูมิ, ความชื้น) และเผยแพร่ข้อมูลเหล่านี้ไปยังหัวข้อที่เฉพาะเจาะจงบน MQTT Broker
 - ประสิทธิภาพ: ความเป็นน้ำหนักเบาของ MQTT ช่วยให้การส่งข้อมูลจากอุปกรณ์ที่มีทรัพยากรจำกัดทำได้อย่างมีประสิทธิภาพ

2.**การกระจายข้อมูล**
 - การจัดการกลาง: MQTT Broker ทำหน้าที่เป็นจุดศูนย์กลางที่รวบรวมข้อมูลจากอุปกรณ์ต่าง ๆ
 - การอัปเดตทันที: ลูกข่ายที่สมัครสมาชิกจะได้รับการอัปเดตทันทีเมื่อมีการเผยแพร่ข้อมูลใหม่ในหัวข้อที่พวกเขาสมัครสมาชิก

3.**ความสามารถในการขยายตัว**
 - ลูกข่ายหลายตัว: MQTT รองรับลูกข่ายจำนวนมาก (ทั้ง publisher และ subscriber) ได้อย่างมีประสิทธิภาพ
 - ระดับ QoS: MQTT มีระดับ Quality of Service (QoS) ที่แตกต่างกันเพื่อให้แน่ใจว่าข้อความจะถูกส่งตามความต้องการของแอปพลิเคชัน (เช่น, At Most Once, At Least Once, Exactly Once)

4.**สภาพแวดล้อมที่มีแบนด์วิดท์ต่ำและความล่าช้าสูง**
 - โปรโตคอลน้ำหนักเบา: MQTT ออกแบบมาให้ทำงานในสภาพแวดล้อมที่มีแบนด์วิดท์ต่ำและความล่าช้าสูง ซึ่งเหมาะสำหรับแอปพลิเคชัน IoT ที่เงื่อนไขเครือข่ายอาจไม่เสถียร
 - กลไก Keep-Alive: MQTT มีกลไก keep-alive เพื่อให้แน่ใจว่าลูกข่ายยังคงเชื่อมต่อกับ broker แม้จะมีการเชื่อมต่อที่ไม่สม่ำเสมอ

# การใช้ MQTT กับโปรเจกต์นี้
เซ็นเซอร์ IoT จะส่งข้อมูลไปยัง MQTT broker จากนั้น Kafka Connect ที่ใช้ MQTT source connector และส่งต่อไปยัง Kafka เพื่อจัดเก็บและประมวลผลต่อไป.
